{"version":3,"file":"index.js","sources":["../src/js/settings.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const PIXABAY_API_KEY = \"50513820-fe52286b6fb0f12cd684dc96e\"\n","import axios from \"axios\"\nimport { PIXABAY_API_KEY } from \"./settings\"\naxios.defaults.baseURL = \"https://pixabay.com/api/\"\nexport const getImagesByQuery = async query => {\n\tconst response = await axios\n\t\t.get(\"\", {\n\t\t\tparams: {\n\t\t\t\tkey: PIXABAY_API_KEY,\n\t\t\t\tq: query,\n\t\t\t\timage_type: \"photo\",\n\t\t\t\torientation: \"horizontal\",\n\t\t\t\tsafesearch: true,\n\t\t\t},\n\t\t})\n\treturn response.data\n}\n","import SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\nconst gallery = document.querySelector(\".gallery\"),\n\tloader = gallery.querySelector(\".loader\")\nlet globalLightbox\nexport const showLoader = () => {\n\tloader.innerHTML = \"Loading images, please wait...\"\n\tloader.classList.remove(\"visually-hidden\")\n}\nexport const hideLoader = () => loader.classList.add(\"visually-hidden\")\nexport const clearGallery = () =>\n\tgallery.querySelectorAll(\".gallery-item\").forEach(i => i.remove())\nexport const createMarkup = ({\n\twebformatURL,\n\tlargeImageURL,\n\ttags,\n\tlikes,\n\tviews,\n\tcomments,\n\tdownloads,\n}) => {\n\treturn `\n\t<li class=\"gallery-item\">\n\t\t<a href=\"${largeImageURL}\">\n\t\t\t<img src=\"${webformatURL}\" data-src=\"${largeImageURL}\" alt=\"${tags}\" />\n\t\t</a>\n\t\t<div class=\"info\">\n\t\t\t<p>\n\t\t\t\t<b>Likes</b>\n\t\t\t\t${likes}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>Views</b>\n\t\t\t\t${views}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>Comments</b>\n\t\t\t\t${comments}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>Downloads</b>\n\t\t\t\t${downloads}\n\t\t\t</p>\n\t\t</div>\n\t</li>\n\t`\n}\nexport const createGallery = images => {\n\tconst itemsMarkup = images.reduce(\n\t\t(acc, item) => (acc += createMarkup(item)),\n\t\t\"\"\n\t)\n\tdocument\n\t\t.querySelector(\".gallery\")\n\t\t.insertAdjacentHTML(\"beforeend\", itemsMarkup)\n\tif (!globalLightbox) {\n\t\tglobalLightbox = new SimpleLightbox(\".gallery a\", {\n\t\t\tcaptionsData: \"alt\",\n\t\t\tcaptionDelay: 250,\n\t\t})\n\t} else globalLightbox.refresh()\n}\n","import { getImagesByQuery } from \"./js/pixabay-api\"\nimport {\n\tclearGallery,\n\tcreateGallery,\n\tshowLoader,\n\thideLoader,\n} from \"./js/render-functions\"\nimport iziToast from \"izitoast\"\nimport \"izitoast/dist/css/iziToast.min.css\"\nconst form = document.querySelector(\".form\")\nform.addEventListener(\"submit\", e => {\n\te.preventDefault()\n\tconst query = e.target.elements[\"search-text\"].value.trim() ?? \"\"\n\tif (query === \"\") {\n\t\tiziToast.error({\n\t\t\ttitle: \"Error!\",\n\t\t\tmessage: \"Failed to load images\",\n\t\t})\n\t\treturn\n\t}\n\tclearGallery()\n\tshowLoader()\n\tgetImagesByQuery(query)\n\t\t.then(data => {\n\t\t\tif (data.hits.length > 0) {\n\t\t\t\tcreateGallery(data.hits)\n\t\t\t} else {\n\t\t\t\tiziToast.error({\n\t\t\t\t\ttitle: \"Error!\",\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t\"Sorry, there are no images matching your search query. Please try again!\",\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tiziToast.error({\n\t\t\t\ttitle: \"Error!\",\n\t\t\t\tmessage: \"Failed to load images\",\n\t\t\t})\n\t\t})\n\t\t.finally(hideLoader)\n})\n"],"names":["PIXABAY_API_KEY","axios","getImagesByQuery","query","gallery","loader","globalLightbox","showLoader","hideLoader","clearGallery","i","createMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","images","itemsMarkup","acc","item","SimpleLightbox","form","e","iziToast","data"],"mappings":"owBAAO,MAAMA,EAAkB,qCCE/BC,EAAM,SAAS,QAAU,2BAClB,MAAMC,EAAmB,MAAMC,IACpB,MAAMF,EACrB,IAAI,GAAI,CACR,OAAQ,CACP,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACZ,CACJ,CAAG,GACc,KCZXC,EAAU,SAAS,cAAc,UAAU,EAChDC,EAASD,EAAQ,cAAc,SAAS,EACzC,IAAIE,EACG,MAAMC,EAAa,IAAM,CAC/BF,EAAO,UAAY,iCACnBA,EAAO,UAAU,OAAO,iBAAiB,CAC1C,EACaG,EAAa,IAAMH,EAAO,UAAU,IAAI,iBAAiB,EACzDI,EAAe,IAC3BL,EAAQ,iBAAiB,eAAe,EAAE,QAAQM,GAAKA,EAAE,QAAQ,EACrDC,EAAe,CAAC,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACQ;AAAA;AAAA,aAEKL,CAAa;AAAA,eACXD,CAAY,eAAeC,CAAa,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,MAK/DC,CAAK;AAAA;AAAA;AAAA;AAAA,MAILC,CAAK;AAAA;AAAA;AAAA;AAAA,MAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,MAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,GAMFC,EAAgBC,GAAU,CACtC,MAAMC,EAAcD,EAAO,OAC1B,CAACE,EAAKC,IAAUD,GAAOX,EAAaY,CAAI,EACxC,EACA,EACD,SACE,cAAc,UAAU,EACxB,mBAAmB,YAAaF,CAAW,EACxCf,EAKEA,EAAe,QAAS,EAJ9BA,EAAiB,IAAIkB,EAAe,aAAc,CACjD,aAAc,MACd,aAAc,GACjB,CAAG,CAEH,ECpDMC,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUC,GAAK,CACpCA,EAAE,eAAgB,EAClB,MAAMvB,EAAQuB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,KAAI,GAAM,GAC/D,GAAIvB,IAAU,GAAI,CACjBwB,EAAS,MAAM,CACd,MAAO,SACP,QAAS,uBACZ,CAAG,EACD,MACA,CACDlB,EAAc,EACdF,EAAY,EACZL,EAAiBC,CAAK,EACpB,KAAKyB,GAAQ,CACTA,EAAK,KAAK,OAAS,EACtBT,EAAcS,EAAK,IAAI,EAEvBD,EAAS,MAAM,CACd,MAAO,SACP,QACC,0EACN,CAAK,CAEL,CAAG,EACA,MAAM,IAAM,CACZA,EAAS,MAAM,CACd,MAAO,SACP,QAAS,uBACb,CAAI,CACJ,CAAG,EACA,QAAQnB,CAAU,CACrB,CAAC"}